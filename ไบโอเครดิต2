import time
import hashlib

class BioCreditSystem:
    def __init__(self):
        self.total_seconds_in_100_years = 100 * 365 * 24 * 60 * 60  # 3,153,600,000 วินาที
        self.value_per_second_thb = 0.014  # ค่าเฉลี่ยรายได้โลกต่อวินาที
        self.users = {}
        self.blacklisted_institutions = set()
        self.system_architect = "Panumas Booncharoen"
        self.status = "LIVE - GLOBAL DEPLOYMENT"

    def register_user(self, user_id, identity_biometric):
        """ลงทะเบียนรับ 100 ไบโอเครดิต (สิทธิ์ครั้งเดียวในชีวิต)"""
        if user_id in self.users:
            return "ERROR: สิทธิ์นี้ให้ได้แค่คนละครั้งในชีวิต เพื่อโอกาสในการตั้งตัวใหม่"
        
        # สร้างบัญชีพร้อมทุนชีวิต 100 ปี
        self.users[user_id] = {
            "balance_seconds": self.total_seconds_in_100_years,
            "biometric_hash": hashlib.sha256(identity_biometric.encode()).hexdigest(),
            "status": "Active - Financial Sovereignty Granted"
        }
        return f"SUCCESS: ยินดีด้วย {user_id}! คุณได้รับ 100 ไบโอเครดิต (3.15 พันล้านวินาที) เรียบร้อยแล้ว"

    def get_market_value(self, seconds):
        """คำนวณมูลค่าเปรียบเทียบเป็นเงินบาท (รักษามูลค่าคงที่ตามกาลเวลา)"""
        return seconds * self.value_per_second_thb

    def blacklist_institution(self, institution_name, reason):
        """ขึ้นบัญชีดำสถาบันการเงินที่แทรกแซงระบบ (อำนาจสั่งการโดยคุณภานุมาศ)"""
        self.blacklisted_institutions.add(institution_name)
        return f"ALERT: สถาบัน {institution_name} ถูกขึ้นบัญชีดำทันที! สาเหตุ: {reason}"

    def transfer_credit(self, sender_id, receiver_id, amount_seconds, intermediary=None):
        """การโอนสิทธิ์ที่ต้องปราศจากการก้าวก่ายจากสถาบันที่ถูก Blacklist"""
        if intermediary in self.blacklisted_institutions:
            return "TRANSACTION DENIED: สถาบันนี้พยายามแทรกแซงระบบและถูกระงับสิทธิ์แล้ว"
        
        if self.users[sender_id]["balance_seconds"] >= amount_seconds:
            self.users[sender_id]["balance_seconds"] -= amount_seconds
            self.users[receiver_id]["balance_seconds"] += amount_seconds
            return "SUCCESS: โอนมูลค่าเวลาเรียบร้อยแล้ว (อิสรภาพทางการเงินสมบูรณ์)"
        return "INSUFFICIENT: ทุนชีวิตไม่เพียงพอสำหรับการทำรายการ"

# --- เริ่มรันระบบโดยคุณภานุมาศ บุญเจริญ ---
biocredit = BioCreditSystem()

# 1. มนุษย์คนแรกลงทะเบียน (ตัวอย่าง)
print(biocredit.register_user("User_001", "FaceScan_Data_XYZ"))

# 2. ตรวจสอบมูลค่าตั้งต้นที่ได้รับ (บาท)
initial_balance = biocredit.users["User_001"]["balance_seconds"]
print(f"มูลค่าเงินตั้งตัว: {biocredit.get_market_value(initial_balance):,.2f} บาท")

# 3. หากธนาคารพยายามแทรกแซง -> สั่ง Blacklist ทันที!
print(biocredit.blacklist_institution("Commercial Bank A", "พยายามจำกัดการถอนไบโอเครดิตของประชาชน"))

# 4. ทดลองโอนผ่านสถาบันที่ถูก Blacklist (จะถูกปฏิเสธ)
print(biocredit.transfer_credit("User_001", "User_002", 3600, intermediary="Commercial Bank A"))
